# æ•°æ®æ ‡æ³¨ä¸å¤„ç†æŒ‡å—

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•ä½¿ç”¨ Flutter æ ‡æ³¨å·¥å…·åˆ›å»ºè®­ç»ƒæ•°æ®é›†ï¼Œä»¥åŠå¦‚ä½•å°†æ ‡æ³¨æ•°æ®è½¬æ¢ä¸ºæ¨¡å‹è®­ç»ƒæ‰€éœ€çš„ JSONL æ ¼å¼ã€‚

> ğŸ’¡ **é‡è¦æç¤º**ï¼šæœ¬é¡¹ç›®å»ºè®®ä½¿ç”¨ **V1 æ ‡æ³¨å™¨**ï¼ˆç¬¦åˆçœŸå®éªŒè¯ç é€»è¾‘ï¼‰ï¼ŒV2 ä¸ºå®éªŒå·¥å…·ã€‚

## ğŸ“‹ ç›®å½•

- [å‡†å¤‡æ•°æ®é›†ç›®å½•](#å‡†å¤‡æ•°æ®é›†ç›®å½•)
- [è¿è¡Œæ ‡æ³¨å·¥å…·](#è¿è¡Œæ ‡æ³¨å·¥å…·)
- [æ ‡æ³¨æµç¨‹](#æ ‡æ³¨æµç¨‹)
- [æ•°æ®æ ¼å¼è¯´æ˜](#æ•°æ®æ ¼å¼è¯´æ˜)
- [è½¬æ¢ä¸ºè®­ç»ƒæ•°æ®](#è½¬æ¢ä¸ºè®­ç»ƒæ•°æ®)
- [æ ‡æ³¨æŠ€å·§](#æ ‡æ³¨æŠ€å·§)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

## å‡†å¤‡æ•°æ®é›†ç›®å½•

### åˆ›å»ºæ•°æ®é›†ç›®å½•

åˆ›å»ºæ•°æ®é›†ç›®å½•ï¼ˆæ¨èä½ç½®ï¼š`captcha_dataset`ï¼‰ï¼š

```bash
mkdir -p captcha_dataset/images
mkdir -p captcha_dataset/metadata
```

### æ•°æ®é›†ç›®å½•ç»“æ„

```
captcha_dataset/
â”œâ”€â”€ images/                        # éªŒè¯ç å›¾ç‰‡ç›®å½•
â”‚   â”œâ”€â”€ 20251211_194426_1_big.png    # èƒŒæ™¯å¤§å›¾
â”‚   â”œâ”€â”€ 20251211_194426_1_small.png  # æ»‘å—å°å›¾
â”‚   â”œâ”€â”€ 20251211_194426_2_big.png
â”‚   â”œâ”€â”€ 20251211_194426_2_small.png
â”‚   â””â”€â”€ ...
â””â”€â”€ metadata/                      # æ ‡æ³¨æ•°æ®ç›®å½•
    â”œâ”€â”€ 20251211_194426_1.json     # åŸºæœ¬ä¿¡æ¯ï¼ˆæ•°æ®æ”¶é›†å·¥å…·åˆ›å»ºï¼‰
    â”œâ”€â”€ 20251211_194426_2.json     # æ ‡æ³¨åä¼šè‡ªåŠ¨æ·»åŠ  tracks å­—æ®µ
    â””â”€â”€ ...
```

> ğŸ’¡ **è¯´æ˜**ï¼š`metadata` ç›®å½•ä¸‹çš„ JSON æ–‡ä»¶ç”±æ•°æ®æ”¶é›†å·¥å…·åˆ›å»ºï¼ŒåŒ…å«éªŒè¯ç çš„åŸºæœ¬ä¿¡æ¯ï¼ˆidã€å›¾ç‰‡ä¿¡æ¯ç­‰ï¼‰ã€‚ä½¿ç”¨æ ‡æ³¨å·¥å…·æ‹–åŠ¨æ»‘å—åï¼Œä¼šè‡ªåŠ¨å‘è¯¥æ–‡ä»¶æ·»åŠ  `tracks` è½¨è¿¹æ•°æ®å­—æ®µã€‚

### å‡†å¤‡éªŒè¯ç å›¾ç‰‡

å°†éªŒè¯ç å›¾ç‰‡æŒ‰ç…§ä»¥ä¸‹å‘½åè§„åˆ™æ”¾å…¥ `images` ç›®å½•ï¼š
- èƒŒæ™¯å¤§å›¾ï¼š`{id}_big.png`
- æ»‘å—å°å›¾ï¼š`{id}_small.png`

> ğŸ’¡ **æç¤º**: `{id}` åº”è¯¥ä¿æŒä¸€è‡´ï¼Œä¾‹å¦‚ `20251211_194426_1_big.png` å’Œ `20251211_194426_1_small.png` æ˜¯ä¸€å¯¹ã€‚

## è¿è¡Œæ ‡æ³¨å·¥å…·

### ç¯å¢ƒè¦æ±‚

- **Flutter 3.35.0**ï¼ˆæ ‡æ³¨å·¥å…·åŸºäºæ­¤ç‰ˆæœ¬å¼€å‘ï¼‰
- Dart 3.0+
- æ”¯æŒçš„å¹³å°ï¼šWindows, macOS, Linux

**æ¨èä½¿ç”¨ `fvm` ç®¡ç† Flutter ç‰ˆæœ¬**ï¼š

> ğŸ“– **å‚è€ƒ**: [fvm å®‰è£…å‘å¯¼](https://fvm.app/documentation/getting-started/installation)

```bash
# å®‰è£… Flutter 3.35.0
fvm install 3.35.0
fvm use 3.35.0
```

### å®‰è£…å’Œè¿è¡Œ

```bash
# è¿›å…¥æ ‡æ³¨å·¥å…·ç›®å½•
cd captcha_annotator_flutter

# å®‰è£… Flutter ä¾èµ–
flutter pub get

# è¿è¡Œæ ‡æ³¨å·¥å…·ï¼ˆæ¡Œé¢åº”ç”¨ï¼‰
flutter run
```

### é¦–æ¬¡ä½¿ç”¨

1. åº”ç”¨å¯åŠ¨åï¼Œç‚¹å‡» **"Select Dataset Folder"**
2. é€‰æ‹©åˆšæ‰åˆ›å»ºçš„ `captcha_dataset` ç›®å½•
3. æˆ–ç›´æ¥è¾“å…¥è·¯å¾„ï¼Œå¦‚ï¼š`/path/to/captcha_dataset`
4. ç‚¹å‡» **"æ•°æ®é›†æ ‡æ³¨"** æŒ‰é’®è¿›å…¥æ ‡æ³¨ç•Œé¢ï¼ˆä½¿ç”¨ V1 æ ‡æ³¨å™¨ï¼‰

## æ ‡æ³¨æµç¨‹

### ç•Œé¢è¯´æ˜

æ ‡æ³¨ç•Œé¢åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š

1. **è¿›åº¦æ˜¾ç¤º**ï¼šæ˜¾ç¤ºå½“å‰è¿›åº¦ï¼ˆå¦‚ï¼š3 / 150ï¼‰å’ŒéªŒè¯ç  ID
2. **å›¾ç‰‡åŒºåŸŸ**ï¼šæ˜¾ç¤ºèƒŒæ™¯å¤§å›¾å’Œæ»‘å—å°å›¾
3. **æ»‘å—åŒºåŸŸ**ï¼šäº¤äº’å¼æ»‘å—ï¼Œå¯æ‹–åŠ¨åˆ°ç›®æ ‡ä½ç½®
4. **ç»Ÿè®¡ä¿¡æ¯**ï¼šæ˜¾ç¤ºè½¨è¿¹ç»Ÿè®¡ï¼ˆæ€»æ—¶é•¿ã€ç‚¹æ•°ç­‰ï¼‰
5. **æ“ä½œæŒ‰é’®**ï¼šä¸Šä¸€ä¸ªã€ä¿å­˜ã€è·³è¿‡ã€ä¸‹ä¸€ä¸ª

### æ ‡æ³¨æ­¥éª¤

1. **è§‚å¯Ÿå›¾ç‰‡**
   - æŸ¥çœ‹èƒŒæ™¯å¤§å›¾å’Œæ»‘å—å°å›¾
   - ç¡®å®šæ»‘å—åº”è¯¥ç§»åŠ¨åˆ°çš„ç›®æ ‡ä½ç½®ï¼ˆç¼ºå£ä½ç½®ï¼‰

2. **æ‹–åŠ¨æ»‘å—**
   - ç‚¹å‡»å¹¶æŒ‰ä½æ»‘å—
   - åƒäººä¸€æ ·è‡ªç„¶åœ°æ‹–åŠ¨åˆ°ç›®æ ‡ä½ç½®
   - ç³»ç»Ÿä¼šè‡ªåŠ¨è®°å½•æ¯æ¬¡äº‹ä»¶è§¦å‘æ—¶çš„ä½ç½®å’Œæ—¶é—´

3. **æŸ¥çœ‹ç»Ÿè®¡**
   - æ‹–åŠ¨å®ŒæˆåæŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
   - æ£€æŸ¥æ•°æ®è´¨é‡ï¼ˆç‚¹æ•°ã€æ—¶é•¿ç­‰ï¼‰

4. **ä¿å­˜æ ‡æ³¨**
   - ç‚¹å‡» **"ä¿å­˜æ ‡æ³¨"** æŒ‰é’®
   - æ ‡æ³¨æ•°æ®ä¼šä¿å­˜åˆ° `metadata/{id}.json`

5. **ç»§ç»­æ ‡æ³¨**
   - ä¿å­˜åè‡ªåŠ¨åŠ è½½ä¸‹ä¸€ä¸ªéªŒè¯ç 
   - é‡å¤ä¸Šè¿°æ­¥éª¤

### æ“ä½œæŒ‰é’®è¯´æ˜

| æŒ‰é’® | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| **ä¸Šä¸€ä¸ª** | åŠ è½½ä¸Šä¸€ä¸ªéªŒè¯ç  | ä¸ä¿å­˜å½“å‰æ ‡æ³¨ |
| **ä¿å­˜æ ‡æ³¨** | ä¿å­˜å½“å‰è½¨è¿¹ | éœ€è¦å…ˆæ‹–åŠ¨æ»‘å— |
| **è·³è¿‡** | è·³è¿‡å½“å‰éªŒè¯ç  | ä¸ä¿å­˜ï¼Œç›´æ¥ä¸‹ä¸€ä¸ª |
| **ä¸‹ä¸€ä¸ª** | åŠ è½½ä¸‹ä¸€ä¸ªéªŒè¯ç  | ä¸ä¿å­˜å½“å‰æ ‡æ³¨ |

## æ•°æ®æ ¼å¼è¯´æ˜

### V1 æ ‡æ³¨æ ¼å¼ï¼ˆæ¨èï¼‰

V1 æ ‡æ³¨å™¨é‡‡ç”¨äº‹ä»¶è§¦å‘é‡‡æ ·ï¼Œç¬¦åˆçœŸå®éªŒè¯ç çš„äº¤äº’é€»è¾‘ã€‚

### çœŸå® JSON æ ¼å¼ç¤ºä¾‹

ä»¥ä¸‹æ˜¯å®é™…æ ‡æ³¨æ•°æ®çš„æ ¼å¼ï¼ˆ`20251211_194426_1.json`ï¼‰ï¼š

```json
{
  "id": "20251211_194426_1",
  "timestamp": 1765453466020,

  "bigImage": {
    "file": "20251211_194426_1_big.png",
    "width": 590,
    "height": 360
  },

  "smallImage": {
    "file": "20251211_194426_1_small.png",
    "width": 93,
    "height": 360
  },

  "yHeight": null,
  "canvasLength": 280,
  "targetDistance": 93,

  "tracks": [
    {"a": 0, "b": 0, "c": 0},
    {"a": 0, "b": 0, "c": 136},
    {"a": 5, "b": 0, "c": 43},
    {"a": 9, "b": 0, "c": 28},
    {"a": 20, "b": -2, "c": 41},
    {"a": 30, "b": -5, "c": 44},
    {"a": 37, "b": -7, "c": 33},
    {"a": 44, "b": -10, "c": 23},
    {"a": 50, "b": -13, "c": 27},
    {"a": 56, "b": -15, "c": 28},
    {"a": 61, "b": -18, "c": 38},
    {"a": 66, "b": -20, "c": 43},
    {"a": 75, "b": -23, "c": 41},
    {"a": 80, "b": -24, "c": 20},
    {"a": 85, "b": -25, "c": 32},
    {"a": 90, "b": -26, "c": 25},
    {"a": 93, "b": -26, "c": 28}
  ]
}
```

### å­—æ®µè¯´æ˜

#### åŸºæœ¬ä¿¡æ¯
- `id`: éªŒè¯ç å”¯ä¸€æ ‡è¯†
- `timestamp`: æ ‡æ³¨æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰
- `targetDistance`: ç›®æ ‡è·ç¦»ï¼ˆæ»‘å—éœ€è¦ç§»åŠ¨çš„åƒç´ æ•°ï¼‰
- `canvasLength`: ç”»å¸ƒé•¿åº¦

#### å›¾ç‰‡ä¿¡æ¯
- `bigImage`: èƒŒæ™¯å¤§å›¾ä¿¡æ¯
  - `file`: æ–‡ä»¶å
  - `width`: å›¾ç‰‡å®½åº¦
  - `height`: å›¾ç‰‡é«˜åº¦
- `smallImage`: æ»‘å—å°å›¾ä¿¡æ¯ï¼ˆæ ¼å¼åŒä¸Šï¼‰

#### è½¨è¿¹æ•°æ® (tracks)

è½¨è¿¹æ•°ç»„ï¼Œæ¯ä¸ªç‚¹åŒ…å«ï¼š
- `a`: X åæ ‡ï¼ˆæ¨ªå‘ä½ç½®ï¼Œåƒç´ ï¼‰
- `b`: Y åæ ‡åç§»ï¼ˆçºµå‘æŠ–åŠ¨ï¼Œåƒç´ ï¼‰
- `c`: æ—¶é—´é—´éš”ï¼ˆè·ç¦»ä¸Šä¸€ä¸ªç‚¹çš„æ—¶é—´ï¼Œæ¯«ç§’ï¼‰

**ç‰¹ç‚¹**ï¼š
- ç¬¬ä¸€ä¸ªç‚¹ï¼š`{"a": 0, "b": 0, "c": 0}` - èµ·ç‚¹
- æœ€åä¸€ä¸ªç‚¹ï¼š`a` å€¼åº”ç­‰äºæˆ–æ¥è¿‘ `targetDistance`
- æ—¶é—´é—´éš”ï¼šåæ˜ çœŸå®æ‹–åŠ¨çš„ä¸å‡åŒ€æ€§ï¼ˆ20-50ms ä¸ç­‰ï¼‰
- Y åç§»ï¼šæ¨¡æ‹Ÿäººæ‰‹æŠ–åŠ¨ï¼ˆé€šå¸¸åœ¨ -30 åˆ° 5 ä¹‹é—´ï¼‰

## è½¬æ¢ä¸ºè®­ç»ƒæ•°æ®

### ä½¿ç”¨è½¬æ¢è„šæœ¬

æ ‡æ³¨å®Œæˆåï¼Œä½¿ç”¨æä¾›çš„è½¬æ¢è„šæœ¬å°† JSON æ ¼å¼è½¬æ¢ä¸º JSONL è®­ç»ƒæ ¼å¼ã€‚

#### åŸºæœ¬ç”¨æ³•

```bash
python convert_to_jsonl.py \
    --input_dir captcha_dataset/metadata \
    --output_file training_data.jsonl
```

#### è‡ªå®šä¹‰è´¨é‡è¿‡æ»¤

```bash
python convert_to_jsonl.py \
    --input_dir captcha_dataset/metadata \
    --output_file training_data.jsonl \
    --min_time 800 \
    --max_time 2000 \
    --min_points 15
```

#### å‚æ•°è¯´æ˜

| å‚æ•° | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--input_dir` | âœ… | - | æ ‡æ³¨æ•°æ®ç›®å½• |
| `--output_file` | âœ… | - | è¾“å‡ºJSONLæ–‡ä»¶è·¯å¾„ |
| `--min_time` | âŒ | 500 | æœ€å°æ€»æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ |
| `--max_time` | âŒ | 3000 | æœ€å¤§æ€»æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ |
| `--min_points` | âŒ | 10 | æœ€å°è½¨è¿¹ç‚¹æ•° |

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… éªŒè¯æ•°æ®æ ¼å¼
- âœ… è¿‡æ»¤ä½è´¨é‡æ•°æ®
- âœ… æ˜¾ç¤ºè½¬æ¢è¿›åº¦
- âœ… è¾“å‡ºç»Ÿè®¡ä¿¡æ¯

### è¾“å‡ºæ ¼å¼

è½¬æ¢åçš„ JSONL æ–‡ä»¶æ ¼å¼ï¼š

```json
{"text": "<|input|>distance:93,canvas:280<|output|>0,0,0;0,0,136;5,0,43;9,0,28;20,-2,41;...<|end|>"}
{"text": "<|input|>distance:120,canvas:280<|output|>0,0,0;2,0,50;5,1,45;10,2,38;...<|end|>"}
```

æ ¼å¼è¯´æ˜ï¼š
- `<|input|>`: è¾“å…¥æ ‡è®°
- `distance`: ç›®æ ‡è·ç¦»
- `canvas`: ç”»å¸ƒé•¿åº¦
- `<|output|>`: è¾“å‡ºæ ‡è®°
- è½¨è¿¹ç‚¹æ ¼å¼ï¼š`a,b,c` ç”¨åˆ†å·åˆ†éš”
- `<|end|>`: ç»“æŸæ ‡è®°

## æ ‡æ³¨æŠ€å·§

### 1. çœŸå®æ‹–åŠ¨

åƒçœŸäººä¸€æ ·æ‹–åŠ¨æ»‘å—ï¼š

âœ… **æ¨èåšæ³•**ï¼š
- æœ‰åŠ é€Ÿå’Œå‡é€Ÿè¿‡ç¨‹
- å¼€å§‹æ—¶ç¨æœ‰åœé¡¿ï¼ˆ100-300msï¼‰
- åˆ°è¾¾ç›®æ ‡åå¯èƒ½æœ‰å¾®è°ƒ
- è½¨è¿¹ç•¥å¸¦æŠ–åŠ¨å’Œå¼§çº¿

âŒ **é¿å…**ï¼š
- åŒ€é€Ÿç›´çº¿ç§»åŠ¨
- è¿‡å¿«æˆ–è¿‡æ…¢
- å®Œç¾çš„ç›´çº¿è½¨è¿¹
- æœºæ¢°å¼çš„ç§»åŠ¨

### 2. é€Ÿåº¦æ§åˆ¶

æ¨èçš„æ‹–åŠ¨å‚æ•°ï¼š

| æŒ‡æ ‡ | æ¨èèŒƒå›´ | è¯´æ˜ |
|------|---------|------|
| **æ€»æ—¶é•¿** | 800-2000ms | å¤ªå¿«å¤±çœŸï¼Œå¤ªæ…¢ä¸è‡ªç„¶ |
| **è½¨è¿¹ç‚¹æ•°** | 15-50 ç‚¹ | äº‹ä»¶è§¦å‘æ¬¡æ•° |
| **å¹³å‡é—´éš”** | 20-50ms | æ­£å¸¸è§¦å‘é¢‘ç‡ |

### 3. è´¨é‡æ£€æŸ¥

æ ‡æ³¨åæ£€æŸ¥ç»Ÿè®¡ä¿¡æ¯ï¼š

âœ… **åˆæ ¼æ ‡å‡†**ï¼š
- æ€»æ—¶é•¿åœ¨ 800-2000ms èŒƒå›´å†…
- è½¨è¿¹ç‚¹æ•° > 15
- è½¨è¿¹å¹³æ»‘è‡ªç„¶
- Y åç§»æœ‰é€‚å½“æŠ–åŠ¨

âš ï¸ **éœ€è¦é‡æ–°æ ‡æ³¨**ï¼š
- æ€»æ—¶é•¿ < 500msï¼ˆè¿‡å¿«ï¼‰
- æ€»æ—¶é•¿ > 3000msï¼ˆè¿‡æ…¢ï¼‰
- è½¨è¿¹ç‚¹æ•° < 10ï¼ˆæ•°æ®ä¸è¶³ï¼‰
- è½¨è¿¹çªå˜æˆ–ä¸è¿ç»­

### 4. æ‰¹é‡æ ‡æ³¨å»ºè®®

- æ¯æ¬¡æ ‡æ³¨ 10-20 ä¸ªåä¼‘æ¯ï¼Œä¿æŒçŠ¶æ€
- å®šæœŸæŸ¥çœ‹å·²æ ‡æ³¨çš„æ•°æ®è´¨é‡
- åˆ é™¤æ˜æ˜¾ä¸åˆæ ¼çš„æ ‡æ³¨æ•°æ®
- æ¨èæ ‡æ³¨æ€»é‡ï¼š500-2000 ä¸ªæ ·æœ¬

## V2 å®éªŒå·¥å…·è¯´æ˜

### V2 vs V1 å¯¹æ¯”

| ç‰¹æ€§ | V1 æ ‡æ³¨å™¨ï¼ˆæ¨èï¼‰ | V2 æ ‡æ³¨å™¨ï¼ˆå®éªŒï¼‰ |
|------|-----------------|-----------------|
| **é‡‡æ ·æ–¹å¼** | äº‹ä»¶è§¦å‘ | å®šæ—¶å™¨ 20ms + äº‹ä»¶è§¦å‘ |
| **æ•°æ®æ ¼å¼** | å•åºåˆ— tracks | åŒåºåˆ— timerTracks + eventTracks |
| **ç¬¦åˆçœŸå®åœºæ™¯** | âœ… æ˜¯ | âŒ å¦ï¼ˆç”¨äºç ”ç©¶ï¼‰ |
| **æ¨èä½¿ç”¨** | âœ… æ˜¯ | âš ï¸ ä»…ç”¨äºå®éªŒ |

### ä½•æ—¶ä½¿ç”¨ V2

V2 æ ‡æ³¨å™¨ä»…å»ºè®®ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š
- ç ”ç©¶è½¨è¿¹é‡‡æ ·é¢‘ç‡çš„å½±å“
- å¯¹æ¯”ä¸åŒé‡‡æ ·æ–¹å¼çš„æ•ˆæœ
- å­¦æœ¯ç ”ç©¶å’Œå®éªŒ

**ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ V1 æ ‡æ³¨å™¨**ã€‚

## å¸¸è§é—®é¢˜

### Q1: å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. æ•°æ®é›†è·¯å¾„æ˜¯å¦æ­£ç¡®
2. `images` ç›®å½•æ˜¯å¦å­˜åœ¨
3. å›¾ç‰‡å‘½åæ˜¯å¦ç¬¦åˆ `{id}_big.png` å’Œ `{id}_small.png` æ ¼å¼
4. å›¾ç‰‡æ–‡ä»¶æ˜¯å¦æŸå

### Q2: ä¿å­˜æŒ‰é’®ä¸å¯ç”¨ï¼Ÿ

**A**: éœ€è¦å…ˆæ‹–åŠ¨æ»‘å—æ‰èƒ½ä¿å­˜ã€‚ç¡®ä¿ï¼š
1. å·²ç»æ‹–åŠ¨äº†æ»‘å—
2. è½¨è¿¹æ•°æ®ä¸ä¸ºç©º
3. æ‹–åŠ¨è·ç¦» > 0

### Q3: å¦‚ä½•å®‰è£… Flutterï¼Ÿ

**A**: æ¨èä½¿ç”¨ `fvm` ç®¡ç† Flutter ç‰ˆæœ¬ï¼š

```bash
# å®‰è£… fvm
dart pub global activate fvm

# å®‰è£… Flutter 3.35.0
fvm install 3.35.0
fvm use 3.35.0

# éªŒè¯å®‰è£…
fvm flutter doctor
```

### Q4: æ ‡æ³¨æ•°æ®ä¿å­˜åœ¨å“ªé‡Œï¼Ÿ

**A**: æ ‡æ³¨æ•°æ®ä¿å­˜åœ¨ `captcha_dataset/metadata/` ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º `{id}.json`ã€‚

### Q5: å¦‚ä½•å¤‡ä»½æ ‡æ³¨æ•°æ®ï¼Ÿ

**A**: å®šæœŸå¤‡ä»½ `metadata` ç›®å½•ï¼š

```bash
# å¤‡ä»½åˆ°å…¶ä»–ä½ç½®
cp -r captcha_dataset/metadata captcha_dataset_backup/

# æˆ–ä½¿ç”¨ Git ç‰ˆæœ¬æ§åˆ¶
cd captcha_dataset
git init
git add metadata/
git commit -m "Backup annotations"
```

### Q6: å¦‚ä½•ç­›é€‰é«˜è´¨é‡æ•°æ®ï¼Ÿ

**A**: å¯ä»¥ç¼–å†™è„šæœ¬ç­›é€‰ï¼š

```python
import json
from pathlib import Path

def filter_quality_data(metadata_dir, min_time=800, max_time=2000, min_points=15):
    """ç­›é€‰é«˜è´¨é‡æ ‡æ³¨æ•°æ®"""
    for json_file in Path(metadata_dir).glob("*.json"):
        with open(json_file) as f:
            data = json.load(f)

        tracks = data["tracks"]
        total_time = sum(t["c"] for t in tracks)
        point_count = len(tracks)

        if min_time <= total_time <= max_time and point_count >= min_points:
            print(f"âœ… {json_file.name}: {total_time}ms, {point_count} points")
        else:
            print(f"âŒ {json_file.name}: {total_time}ms, {point_count} points")
            # json_file.unlink()  # å–æ¶ˆæ³¨é‡Šä»¥åˆ é™¤

filter_quality_data("captcha_dataset/metadata")
```

### Q7: V1 å’Œ V2 æ ‡æ³¨å™¨å¦‚ä½•åˆ‡æ¢ï¼Ÿ

**A**: åœ¨ä¸»ç•Œé¢ï¼š
- **V1 æ ‡æ³¨å™¨**ï¼šç‚¹å‡» "æ•°æ®é›†æ ‡æ³¨" æŒ‰é’®
- **V2 æ ‡æ³¨å™¨**ï¼šç‚¹å‡» "V2 æ•°æ®é›†æ ‡æ³¨" æŒ‰é’®ï¼ˆå®éªŒç”¨ï¼‰

**å»ºè®®å§‹ç»ˆä½¿ç”¨ V1 æ ‡æ³¨å™¨**ã€‚

### Q8: è½¬æ¢è„šæœ¬åœ¨å“ªé‡Œï¼Ÿ

**A**: é¡¹ç›®å·²æä¾› `convert_to_jsonl.py` è½¬æ¢è„šæœ¬ã€‚å‚è€ƒæœ¬æ–‡æ¡£çš„ [ä½¿ç”¨è½¬æ¢è„šæœ¬](#ä½¿ç”¨è½¬æ¢è„šæœ¬) éƒ¨åˆ†ã€‚

## ä¸‹ä¸€æ­¥

å®Œæˆæ•°æ®æ ‡æ³¨åï¼š

1. âœ… **è½¬æ¢æ•°æ®**: å®ç°è½¬æ¢è„šæœ¬ç”Ÿæˆ JSONL æ–‡ä»¶
2. âœ… **æ£€æŸ¥æ•°æ®**: ç¡®ä¿ JSONL æ ¼å¼æ­£ç¡®
3. âœ… **è®­ç»ƒæ¨¡å‹**: è¿è¡Œ `python train_lora.py`
4. âœ… **æµ‹è¯•ç”Ÿæˆ**: è¿è¡Œ `python llm_generator.py`

## æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ

1. æŸ¥çœ‹ Flutter æ§åˆ¶å°æ—¥å¿—
2. æ£€æŸ¥æ•°æ®é›†ç»“æ„å’Œæ–‡ä»¶å‘½å
3. ç¡®è®¤ JSON æ ¼å¼æ­£ç¡®
4. æäº¤ Issue åˆ° GitHub

---

Happy annotating! ğŸ‰